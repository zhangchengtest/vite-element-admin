import{g as Ct}from"../@amap/@amap.99378080.js";function S(t){return t.split("-")[0]}function N(t){return t.split("-")[1]}function j(t){return["top","bottom"].includes(S(t))?"x":"y"}function nt(t){return t==="y"?"height":"width"}function st(t,e,n){let{reference:o,floating:i}=t;const r=o.x+o.width/2-i.width/2,s=o.y+o.height/2-i.height/2,c=j(e),f=nt(c),u=o[f]/2-i[f]/2,g=S(e),l=c==="x";let a;switch(g){case"top":a={x:r,y:o.y-i.height};break;case"bottom":a={x:r,y:o.y+o.height};break;case"right":a={x:o.x+o.width,y:s};break;case"left":a={x:o.x-i.width,y:s};break;default:a={x:o.x,y:o.y}}switch(N(e)){case"start":a[c]-=u*(n&&l?-1:1);break;case"end":a[c]+=u*(n&&l?-1:1);break}return a}const Lt=async(t,e,n)=>{const{placement:o="bottom",strategy:i="absolute",middleware:r=[],platform:s}=n,c=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:g}=st(f,o,c),l=o,a={},d=0;for(let h=0;h<r.length;h++){const{name:m,fn:p}=r[h],{x:w,y:x,data:y,reset:v}=await p({x:u,y:g,initialPlacement:o,placement:l,strategy:i,middlewareData:a,rects:f,platform:s,elements:{reference:t,floating:e}});if(u=w!=null?w:u,g=x!=null?x:g,a={...a,[m]:{...a[m],...y}},v&&d<=50){d++,typeof v=="object"&&(v.placement&&(l=v.placement),v.rects&&(f=v.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):v.rects),{x:u,y:g}=st(f,l,c)),h=-1;continue}}return{x:u,y:g,placement:l,strategy:i,middlewareData:a}};function Tt(t){return{top:0,right:0,bottom:0,left:0,...t}}function ot(t){return typeof t!="number"?Tt(t):{top:t,right:t,bottom:t,left:t}}function Y(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function z(t,e){var n;e===void 0&&(e={});const{x:o,y:i,platform:r,rects:s,elements:c,strategy:f}=t,{boundary:u="clippingAncestors",rootBoundary:g="viewport",elementContext:l="floating",altBoundary:a=!1,padding:d=0}=e,h=ot(d),p=c[a?l==="floating"?"reference":"floating":l],w=Y(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(p)))==null||n?p:p.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(c.floating)),boundary:u,rootBoundary:g,strategy:f})),x=Y(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:l==="floating"?{...s.floating,x:o,y:i}:s.reference,offsetParent:await(r.getOffsetParent==null?void 0:r.getOffsetParent(c.floating)),strategy:f}):s[l]);return{top:w.top-x.top+h.top,bottom:x.bottom-w.bottom+h.bottom,left:w.left-x.left+h.left,right:x.right-w.right+h.right}}const dt=Math.min,W=Math.max;function Z(t,e,n){return W(t,dt(e,n))}const St=t=>({name:"arrow",options:t,async fn(e){const{element:n,padding:o=0}=t!=null?t:{},{x:i,y:r,placement:s,rects:c,platform:f}=e;if(n==null)return{};const u=ot(o),g={x:i,y:r},l=j(s),a=N(s),d=nt(l),h=await f.getDimensions(n),m=l==="y"?"top":"left",p=l==="y"?"bottom":"right",w=c.reference[d]+c.reference[l]-g[l]-c.floating[d],x=g[l]-c.reference[l],y=await(f.getOffsetParent==null?void 0:f.getOffsetParent(n));let v=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0;v===0&&(v=c.floating[d]);const b=w/2-x/2,R=u[m],O=v-h[d]-u[p],P=v/2-h[d]/2+b,C=Z(R,P,O),T=(a==="start"?u[m]:u[p])>0&&P!==C&&c.reference[d]<=c.floating[d]?P<R?R-P:O-P:0;return{[l]:g[l]-T,data:{[l]:C,centerOffset:P-C}}}}),Et={left:"right",right:"left",bottom:"top",top:"bottom"};function q(t){return t.replace(/left|right|bottom|top/g,e=>Et[e])}function mt(t,e,n){n===void 0&&(n=!1);const o=N(t),i=j(t),r=nt(i);let s=i==="x"?o===(n?"end":"start")?"right":"left":o==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(s=q(s)),{main:s,cross:q(s)}}const Dt={start:"end",end:"start"};function tt(t){return t.replace(/start|end/g,e=>Dt[e])}const gt=["top","right","bottom","left"],Vt=gt.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]);function Mt(t,e,n){return(t?[...n.filter(i=>N(i)===t),...n.filter(i=>N(i)!==t)]:n.filter(i=>S(i)===i)).filter(i=>t?N(i)===t||(e?tt(i)!==i:!1):!0)}const kt=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var n,o,i,r,s;const{x:c,y:f,rects:u,middlewareData:g,placement:l,platform:a,elements:d}=e,{alignment:h=null,allowedPlacements:m=Vt,autoAlignment:p=!0,...w}=t,x=Mt(h,p,m),y=await z(e,w),v=(n=(o=g.autoPlacement)==null?void 0:o.index)!=null?n:0,b=x[v];if(b==null)return{};const{main:R,cross:O}=mt(b,u,await(a.isRTL==null?void 0:a.isRTL(d.floating)));if(l!==b)return{x:c,y:f,reset:{placement:x[0]}};const P=[y[S(b)],y[R],y[O]],C=[...(i=(r=g.autoPlacement)==null?void 0:r.overflows)!=null?i:[],{placement:b,overflows:P}],E=x[v+1];if(E)return{data:{index:v+1,overflows:C},reset:{placement:E}};const A=C.slice().sort((L,B)=>L.overflows[0]-B.overflows[0]),T=(s=A.find(L=>{let{overflows:B}=L;return B.every(X=>X<=0)}))==null?void 0:s.placement,D=T!=null?T:A[0].placement;return D!==l?{data:{index:v+1,overflows:C},reset:{placement:D}}:{}}}};function Ht(t){const e=q(t);return[tt(t),e,tt(e)]}const Bt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n;const{placement:o,middlewareData:i,rects:r,initialPlacement:s,platform:c,elements:f}=e,{mainAxis:u=!0,crossAxis:g=!0,fallbackPlacements:l,fallbackStrategy:a="bestFit",flipAlignment:d=!0,...h}=t,m=S(o),w=l||(m===s||!d?[q(s)]:Ht(s)),x=[s,...w],y=await z(e,h),v=[];let b=((n=i.flip)==null?void 0:n.overflows)||[];if(u&&v.push(y[m]),g){const{main:C,cross:E}=mt(o,r,await(c.isRTL==null?void 0:c.isRTL(f.floating)));v.push(y[C],y[E])}if(b=[...b,{placement:o,overflows:v}],!v.every(C=>C<=0)){var R,O;const C=((R=(O=i.flip)==null?void 0:O.index)!=null?R:0)+1,E=x[C];if(E)return{data:{index:C,overflows:b},reset:{placement:E}};let A="bottom";switch(a){case"bestFit":{var P;const T=(P=b.map(D=>[D,D.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((D,L)=>D[1]-L[1])[0])==null?void 0:P[0].placement;T&&(A=T);break}case"initialPlacement":A=s;break}if(o!==A)return{reset:{placement:A}}}return{}}}};function rt(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ct(t){return gt.some(e=>t[e]>=0)}const Wt=function(t){let{strategy:e="referenceHidden",...n}=t===void 0?{}:t;return{name:"hide",async fn(o){const{rects:i}=o;switch(e){case"referenceHidden":{const r=await z(o,{...n,elementContext:"reference"}),s=rt(r,i.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:ct(s)}}}case"escaped":{const r=await z(o,{...n,altBoundary:!0}),s=rt(r,i.floating);return{data:{escapedOffsets:s,escaped:ct(s)}}}default:return{}}}}};async function Nt(t,e){const{placement:n,platform:o,elements:i}=t,r=await(o.isRTL==null?void 0:o.isRTL(i.floating)),s=S(n),c=N(n),f=j(n)==="x",u=["left","top"].includes(s)?-1:1,g=r&&f?-1:1,l=typeof e=="function"?e(t):e;let{mainAxis:a,crossAxis:d,alignmentAxis:h}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return c&&typeof h=="number"&&(d=c==="end"?h*-1:h),f?{x:d*g,y:a*u}:{x:a*u,y:d*g}}const _t=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:o}=e,i=await Nt(e,t);return{x:n+i.x,y:o+i.y,data:i}}}};function ht(t){return t==="x"?"y":"x"}const $t=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:o,placement:i}=e,{mainAxis:r=!0,crossAxis:s=!1,limiter:c={fn:p=>{let{x:w,y:x}=p;return{x:w,y:x}}},...f}=t,u={x:n,y:o},g=await z(e,f),l=j(S(i)),a=ht(l);let d=u[l],h=u[a];if(r){const p=l==="y"?"top":"left",w=l==="y"?"bottom":"right",x=d+g[p],y=d-g[w];d=Z(x,d,y)}if(s){const p=a==="y"?"top":"left",w=a==="y"?"bottom":"right",x=h+g[p],y=h-g[w];h=Z(x,h,y)}const m=c.fn({...e,[l]:d,[a]:h});return{...m,data:{x:m.x-n,y:m.y-o}}}}},Ft=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:o,placement:i,rects:r,middlewareData:s}=e,{offset:c=0,mainAxis:f=!0,crossAxis:u=!0}=t,g={x:n,y:o},l=j(i),a=ht(l);let d=g[l],h=g[a];const m=typeof c=="function"?c(e):c,p=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(f){const b=l==="y"?"height":"width",R=r.reference[l]-r.floating[b]+p.mainAxis,O=r.reference[l]+r.reference[b]-p.mainAxis;d<R?d=R:d>O&&(d=O)}if(u){var w,x,y,v;const b=l==="y"?"width":"height",R=["top","left"].includes(S(i)),O=r.reference[a]-r.floating[b]+(R&&(w=(x=s.offset)==null?void 0:x[a])!=null?w:0)+(R?0:p.crossAxis),P=r.reference[a]+r.reference[b]+(R?0:(y=(v=s.offset)==null?void 0:v[a])!=null?y:0)-(R?p.crossAxis:0);h<O?h=O:h>P&&(h=P)}return{[l]:d,[a]:h}}}},zt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:o,platform:i,elements:r}=e,{apply:s=()=>{},...c}=t,f=await z(e,c),u=S(n),g=N(n);let l,a;u==="top"||u==="bottom"?(l=u,a=g===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(a=u,l=g==="end"?"top":"bottom");const d=W(f.left,0),h=W(f.right,0),m=W(f.top,0),p=W(f.bottom,0),w={availableHeight:o.floating.height-(["left","right"].includes(n)?2*(m!==0||p!==0?m+p:W(f.top,f.bottom)):f[l]),availableWidth:o.floating.width-(["top","bottom"].includes(n)?2*(d!==0||h!==0?d+h:W(f.left,f.right)):f[a])};await s({...e,...w});const x=await i.getDimensions(r.floating);return o.floating.width!==x.width||o.floating.height!==x.height?{reset:{rects:!0}}:{}}}},jt=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){var n;const{placement:o,elements:i,rects:r,platform:s,strategy:c}=e,{padding:f=2,x:u,y:g}=t,l=Y(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({rect:r.reference,offsetParent:await(s.getOffsetParent==null?void 0:s.getOffsetParent(i.floating)),strategy:c}):r.reference),a=(n=await(s.getClientRects==null?void 0:s.getClientRects(i.reference)))!=null?n:[],d=ot(f);function h(){if(a.length===2&&a[0].left>a[1].right&&u!=null&&g!=null){var p;return(p=a.find(w=>u>w.left-d.left&&u<w.right+d.right&&g>w.top-d.top&&g<w.bottom+d.bottom))!=null?p:l}if(a.length>=2){if(j(o)==="x"){const A=a[0],T=a[a.length-1],D=S(o)==="top",L=A.top,B=T.bottom,X=D?A.left:T.left,it=D?A.right:T.right,Ot=it-X,Pt=B-L;return{top:L,bottom:B,left:X,right:it,width:Ot,height:Pt,x:X,y:L}}const w=S(o)==="left",x=W(...a.map(A=>A.right)),y=dt(...a.map(A=>A.left)),v=a.filter(A=>w?A.left===y:A.right===x),b=v[0].top,R=v[v.length-1].bottom,O=y,P=x,C=P-O,E=R-b;return{top:b,bottom:R,left:O,right:P,width:C,height:E,x:O,y:b}}return l}const m=await s.getElementRects({reference:{getBoundingClientRect:h},floating:i.floating,strategy:c});return r.reference.x!==m.reference.x||r.reference.y!==m.reference.y||r.reference.width!==m.reference.width||r.reference.height!==m.reference.height?{reset:{rects:m}}:{}}}};function pt(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function H(t){if(t==null)return window;if(!pt(t)){const e=t.ownerDocument;return e&&e.defaultView||window}return t}function _(t){return H(t).getComputedStyle(t)}function M(t){return pt(t)?"":t?(t.nodeName||"").toLowerCase():""}function wt(){const t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(e=>e.brand+"/"+e.version).join(" "):navigator.userAgent}function V(t){return t instanceof H(t).HTMLElement}function $(t){return t instanceof H(t).Element}function Xt(t){return t instanceof H(t).Node}function G(t){if(typeof ShadowRoot>"u")return!1;const e=H(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function K(t){const{overflow:e,overflowX:n,overflowY:o}=_(t);return/auto|scroll|overlay|hidden/.test(e+o+n)}function It(t){return["table","td","th"].includes(M(t))}function xt(t){const e=/firefox/i.test(wt()),n=_(t);return n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].includes(n.willChange)||e&&n.willChange==="filter"||e&&(n.filter?n.filter!=="none":!1)}function vt(){return!/^((?!chrome|android).)*safari/i.test(wt())}const lt=Math.min,I=Math.max,J=Math.round;function k(t,e,n){var o,i,r,s;e===void 0&&(e=!1),n===void 0&&(n=!1);const c=t.getBoundingClientRect();let f=1,u=1;e&&V(t)&&(f=t.offsetWidth>0&&J(c.width)/t.offsetWidth||1,u=t.offsetHeight>0&&J(c.height)/t.offsetHeight||1);const g=$(t)?H(t):window,l=!vt()&&n,a=(c.left+(l&&(o=(i=g.visualViewport)==null?void 0:i.offsetLeft)!=null?o:0))/f,d=(c.top+(l&&(r=(s=g.visualViewport)==null?void 0:s.offsetTop)!=null?r:0))/u,h=c.width/f,m=c.height/u;return{width:h,height:m,top:d,right:a+h,bottom:d+m,left:a,x:a,y:d}}function F(t){return((Xt(t)?t.ownerDocument:t.document)||window.document).documentElement}function Q(t){return $(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function yt(t){return k(F(t)).left+Q(t).scrollLeft}function Yt(t){const e=k(t);return J(e.width)!==t.offsetWidth||J(e.height)!==t.offsetHeight}function Ut(t,e,n){const o=V(e),i=F(e),r=k(t,o&&Yt(e),n==="fixed");let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if(o||!o&&n!=="fixed")if((M(e)!=="body"||K(i))&&(s=Q(e)),V(e)){const f=k(e,!0);c.x=f.x+e.clientLeft,c.y=f.y+e.clientTop}else i&&(c.x=yt(i));return{x:r.left+s.scrollLeft-c.x,y:r.top+s.scrollTop-c.y,width:r.width,height:r.height}}function bt(t){return M(t)==="html"?t:t.assignedSlot||t.parentNode||(G(t)?t.host:null)||F(t)}function ft(t){return!V(t)||_(t).position==="fixed"?null:t.offsetParent}function qt(t){let e=bt(t);for(G(e)&&(e=e.host);V(e)&&!["html","body"].includes(M(e));){if(xt(e))return e;{const n=e.parentNode;e=G(n)?n.host:n}}return null}function et(t){const e=H(t);let n=ft(t);for(;n&&It(n)&&_(n).position==="static";)n=ft(n);return n&&(M(n)==="html"||M(n)==="body"&&_(n).position==="static"&&!xt(n))?e:n||qt(t)||e}function at(t){if(V(t))return{width:t.offsetWidth,height:t.offsetHeight};const e=k(t);return{width:e.width,height:e.height}}function Gt(t){let{rect:e,offsetParent:n,strategy:o}=t;const i=V(n),r=F(n);if(n===r)return e;let s={scrollLeft:0,scrollTop:0};const c={x:0,y:0};if((i||!i&&o!=="fixed")&&((M(n)!=="body"||K(r))&&(s=Q(n)),V(n))){const f=k(n,!0);c.x=f.x+n.clientLeft,c.y=f.y+n.clientTop}return{...e,x:e.x-s.scrollLeft+c.x,y:e.y-s.scrollTop+c.y}}function Jt(t,e){const n=H(t),o=F(t),i=n.visualViewport;let r=o.clientWidth,s=o.clientHeight,c=0,f=0;if(i){r=i.width,s=i.height;const u=vt();(u||!u&&e==="fixed")&&(c=i.offsetLeft,f=i.offsetTop)}return{width:r,height:s,x:c,y:f}}function Kt(t){var e;const n=F(t),o=Q(t),i=(e=t.ownerDocument)==null?void 0:e.body,r=I(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=I(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0);let c=-o.scrollLeft+yt(t);const f=-o.scrollTop;return _(i||n).direction==="rtl"&&(c+=I(n.clientWidth,i?i.clientWidth:0)-r),{width:r,height:s,x:c,y:f}}function Rt(t){const e=bt(t);return["html","body","#document"].includes(M(e))?t.ownerDocument.body:V(e)&&K(e)?e:Rt(e)}function U(t,e){var n;e===void 0&&(e=[]);const o=Rt(t),i=o===((n=t.ownerDocument)==null?void 0:n.body),r=H(o),s=i?[r].concat(r.visualViewport||[],K(o)?o:[]):o,c=e.concat(s);return i?c:c.concat(U(s))}function Qt(t,e){const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&G(n)){let o=e;do{if(o&&t===o)return!0;o=o.parentNode||o.host}while(o)}return!1}function Zt(t,e){const n=k(t,!1,e==="fixed"),o=n.top+t.clientTop,i=n.left+t.clientLeft;return{top:o,left:i,x:i,y:o,right:i+t.clientWidth,bottom:o+t.clientHeight,width:t.clientWidth,height:t.clientHeight}}function ut(t,e,n){return e==="viewport"?Y(Jt(t,n)):$(e)?Zt(e,n):Y(Kt(F(t)))}function te(t){const e=U(t),o=["absolute","fixed"].includes(_(t).position)&&V(t)?et(t):t;return $(o)?e.filter(i=>$(i)&&Qt(i,o)&&M(i)!=="body"):[]}function ee(t){let{element:e,boundary:n,rootBoundary:o,strategy:i}=t;const s=[...n==="clippingAncestors"?te(e):[].concat(n),o],c=s[0],f=s.reduce((u,g)=>{const l=ut(e,g,i);return u.top=I(l.top,u.top),u.right=lt(l.right,u.right),u.bottom=lt(l.bottom,u.bottom),u.left=I(l.left,u.left),u},ut(e,c,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}const At={getClippingRect:ee,convertOffsetParentRelativeRectToViewportRelativeRect:Gt,isElement:$,getDimensions:at,getOffsetParent:et,getDocumentElement:F,getElementRects:t=>{let{reference:e,floating:n,strategy:o}=t;return{reference:Ut(e,et(n),o),floating:{...at(n),x:0,y:0}}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>_(t).direction==="rtl"};function ne(t,e,n,o){o===void 0&&(o={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:s=!0,animationFrame:c=!1}=o,f=i&&!c,u=r&&!c,g=f||u?[...$(t)?U(t):[],...U(e)]:[];g.forEach(m=>{f&&m.addEventListener("scroll",n,{passive:!0}),u&&m.addEventListener("resize",n)});let l=null;if(s){let m=!0;l=new ResizeObserver(()=>{m||n(),m=!1}),$(t)&&!c&&l.observe(t),l.observe(e)}let a,d=c?k(t):null;c&&h();function h(){const m=k(t);d&&(m.x!==d.x||m.y!==d.y||m.width!==d.width||m.height!==d.height)&&n(),d=m,a=requestAnimationFrame(h)}return n(),()=>{var m;g.forEach(p=>{f&&p.removeEventListener("scroll",n),u&&p.removeEventListener("resize",n)}),(m=l)==null||m.disconnect(),l=null,c&&cancelAnimationFrame(a)}}const oe=(t,e,n)=>Lt(t,e,{platform:At,...n}),ie=Object.freeze(Object.defineProperty({__proto__:null,autoUpdate:ne,computePosition:oe,getOverflowAncestors:U,platform:At,arrow:St,autoPlacement:kt,detectOverflow:z,flip:Bt,hide:Wt,inline:jt,limitShift:Ft,offset:_t,shift:$t,size:zt},Symbol.toStringTag,{value:"Module"})),re=Ct(ie);export{St as a,oe as c,_t as o,re as r};
