import{p as N,t as I,q as x,e as S,o as v,c as _,a as m,R as M,ae as $,W as E,V as L,a4 as R,a2 as A,m as V,a3 as D,a5 as F}from"../@vue/@vue.2b452c3d.js";import{_ as G}from"../../assets/index.21f6149a.js";import{q as j}from"./game.f889e264.js";import"../@amap/@amap.99378080.js";import"../element-plus/element-plus.caa9b8d8.js";import"../lodash-es/lodash-es.7c973300.js";import"../@vueuse/@vueuse.43da1a8a.js";import"../@element-plus/@element-plus.efad60f8.js";import"../@ctrl/@ctrl.e9ed8208.js";import"../dayjs/dayjs.c11b9178.js";import"../async-validator/async-validator.c202887f.js";import"../memoize-one/memoize-one.ee232c16.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.49709035.js";import"../@floating-ui/@floating-ui.f0121856.js";import"../vue/vue.7cf591d0.js";import"../lodash-unified/lodash-unified.848cb84c.js";import"../pinia/pinia.f1018e5b.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.1ab0adc1.js";import"../geotiff/geotiff.ef2c36fd.js";import"../vue-router/vue-router.dd20951a.js";import"../path-browserify/path-browserify.a545effa.js";import"../screenfull/screenfull.e4fe316c.js";import"../mitt/mitt.fcf4f812.js";import"../qs/qs.3da673cc.js";import"../side-channel/side-channel.3edb57a1.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.4790b089.js";import"../object-inspect/object-inspect.ce046177.js";import"../nprogress/nprogress.47a88857.js";/* empty css                                 */import"../clipboard/clipboard.37ebffe6.js";import"../vue-i18n/vue-i18n.5b025ae2.js";import"../@intlify/@intlify.4679f647.js";import"../xe-utils/xe-utils.088326cd.js";import"../vxe-table/vxe-table.94466d41.js";import"../vite-plugin-mock/vite-plugin-mock.5aa09a6a.js";import"../mockjs/mockjs.7f7b19f3.js";import"../path-to-regexp/path-to-regexp.580946d7.js";function w(r,h,n){const s=N({arr:[],diffec:h});let k=r-1,y=r-1;s.arr=u(r);function u(t){const e=[];let o=[];const a=t*t+1;for(let i=1;i<a;i++)o.push(i),o.length===t&&(e.push(o),o=[]);return e[t-1][t-1]=0,e}function c(t,e){if(t<=0)return-1;const o=t-1;return p(t,e,o,e),{x:o,y:e}}function l(t,e){if(t>=r-1)return-1;const o=t+1;return p(t,e,o,e),{x:o,y:e}}function g(t,e){if(e<=0)return-1;const o=e-1;return p(t,e,t,o),{x:t,y:o}}function f(t,e){if(e>=r-1)return-1;const o=e+1;return p(t,e,t,o),{x:t,y:o}}function p(t,e,o,a){const i=s.arr[t][e];s.arr[t][e]=s.arr[o][a],s.arr[o][a]=i}function b(){const t=s.arr;for(let e=0;e<t.length;e++)for(let o=0;o<t[e].length;o++)if(Number(t[e][o])===0)return{emptyX:e,emptyY:o}}function d(){const t=u(r).toString();console.log(s.arr.toString()),s.arr.toString()===t&&setTimeout(()=>{n(!0)},100)}function B(t,e){const{emptyX:o,emptyY:a}=b();t===o&&e!==a&&Math.abs(e-a)===1&&(e>a?g(t,e):f(t,e)),e===a&&t!==o&&Math.abs(t-o)===1&&(t>o?c(t,e):l(t,e)),d()}function C(t){s.arr=u(r);const e=t||s.diffec,o=[c,l,g,f];let a=null,i;for(let z=0;z<e;z++)if(a=Math.floor(Math.random()*o.length),i=o[a](k,y),i!=-1){const{x:T,y:q}=i;k=T,y=q}}return{moveTop:c,shouldMove:B,moveInit:C,gameEnd:d,...I(s)}}const H={props:{gamedata:{type:Object},title:{type:String}},setup(r,{emit:h}){console.log("i am here");const n=x(r,"gamedata"),s=S(!1),k=p=>{s.value=!1,h("endCallback")},{arr:y,shouldMove:u,moveInit:c}=w(n.value.level,n.value.difficulty,k),l=N({gameArr:y,emptyNum:8}),g=(p,b)=>{if(!s.value)return!1;u(p,b)},f=()=>{s.value=!0,c(n.value.difficulty)};return{...I(l),boxHandle:g,gameStart:f}}},X={class:"_game"},Y=["onClick"],O=["src"],P={key:1};function W(r,h,n,s,k,y){return v(),_("div",X,[m("div",{class:"gameMain",style:E({backgroundColor:n.gamedata.style.gameBoxBg})},[(v(!0),_(M,null,$(r.gameArr,(u,c)=>(v(),_("div",{class:L(["y-axis",r.emptyNum===c?"empty":""]),key:u},[(v(!0),_(M,null,$(u,(l,g)=>(v(),_("div",{class:L(["x-axis",l===0?"empty":""]),style:E({backgroundColor:n.gamedata.style.sliderBg,color:n.gamedata.style.sliderColor,fontSize:n.gamedata.style.sliderFontSize}),key:g,onClick:f=>s.boxHandle(c,g)},[n.gamedata.mode==="img"&&l!=0?(v(),_("img",{key:0,src:n.gamedata.imgs[l-1],alt:""},null,8,O)):l!=0?(v(),_("span",P,R(l),1)):A("",!0)],14,Y))),128))],2))),128))],4)])}const J=G(H,[["render",W],["__scopeId","data-v-059b55b8"]]);const K={class:"changeModel"},Q={class:"diffec"},U=m("p",{class:"tip"},"\u6570\u5B57\u8D8A\u5927\u96BE\u5EA6\u8D8A\u5927\u54E6",-1),Z={class:"difftodo"},tt={class:"main"},Xt={__name:"index",setup(r){const h=S(),n=S(null),s=S(!0);(async()=>{s.value=!0;const{data:o}=await j();n.value=o,setTimeout(()=>{s.value=!1},1.5*1e3)})();var y="http://st.punengshuo.com/images/output1.png",u="http://st.punengshuo.com/images/output2.png",c="http://st.punengshuo.com/images/output3.png",l="http://st.punengshuo.com/images/output4.png",g="http://st.punengshuo.com/images/output5.png",f="http://st.punengshuo.com/images/output6.png",p="http://st.punengshuo.com/images/output7.png",b="http://st.punengshuo.com/images/output8.png";const d=N({gamedata:{level:3,title:V(()=>"list.value[0]"),mode:"img",imgs:V(()=>(console.log("fuck"),console.log(n.value),n.value?n.value:[y,u,c,l,g,f,f,p,b])),style:{sliderBg:"#ffc107",sliderColor:"#000",sliderFontSize:"18px",gameBoxBg:"#5a009b"},difficulty:4}}),B=()=>{h.value.gameStart()},C=o=>{d.gamedata.mode=o},t=o=>{if(o==="add")d.gamedata.difficulty+=4;else{if(d.gamedata.difficulty<=4)return!1;d.gamedata.difficulty-=4}},e=()=>{alert("\u6B27\u8036!\u6211\u901A\u5173\u4E86"),console.log("\u6211\u901A\u5173\u4E86")};return(o,a)=>(v(),_(M,null,[m("div",K,[m("div",{class:"model",onClick:a[0]||(a[0]=i=>C("number"))},"\u6A21\u5F0F\u4E00"),m("div",{class:"model",onClick:a[1]||(a[1]=i=>C("img"))},"\u6A21\u5F0F\u4E8C")]),m("div",Q,[m("h2",null,[D(R(d.gamedata.difficulty)+" ",1),U]),m("div",Z,[m("div",{class:"to",onClick:a[2]||(a[2]=i=>t("add"))},"\u96BE\u5EA6+"),m("div",{class:"to",onClick:a[3]||(a[3]=i=>t("del"))},"\u96BE\u5EA6\uFF0D")])]),m("div",tt,[F(J,{gamedata:d.gamedata,title:d.gamedata.title,ref_key:"game",ref:h,onEndCallback:e},null,8,["gamedata","title"])]),m("div",{class:"todos"},[m("div",{class:"start",onClick:B},"\u5F00\u59CB\u6E38\u620F")])],64))}};export{Xt as default};
