import{F as V,e as i,p as N,m as T,ab as $,o as d,Z as it,_ as x,a5 as _,a3 as A,a4 as v,q as lt,i as ut,t as ct,c as g,a as n,R as F,ae as I,W as j,V as E,a2 as mt,f as dt,$ as pt,a0 as gt}from"../@vue/@vue.2b452c3d.js";import"../index/index.b9ec5c01.js";import"../index/index.a371ab9a.js";import{_ as G,u as ht}from"../../assets/index.37ef86a6.js";import{d as _t}from"../@shopify/@shopify.3d07b6b2.js";import{q as vt,a as O,b as ft,s as yt}from"../game/game.5771635f.js";import{a as bt,u as kt}from"../vue-router/vue-router.dd20951a.js";import"../@amap/@amap.99378080.js";import"../element-plus/element-plus.caa9b8d8.js";import"../lodash-es/lodash-es.7c973300.js";import"../@vueuse/@vueuse.43da1a8a.js";import"../@element-plus/@element-plus.efad60f8.js";import"../@ctrl/@ctrl.e9ed8208.js";import"../dayjs/dayjs.c11b9178.js";import"../async-validator/async-validator.c202887f.js";import"../memoize-one/memoize-one.ee232c16.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.49709035.js";import"../@floating-ui/@floating-ui.f0121856.js";import"../vue/vue.7cf591d0.js";import"../lodash-unified/lodash-unified.848cb84c.js";import"../pinia/pinia.f1018e5b.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.35a30da6.js";import"../geotiff/geotiff.ef2c36fd.js";import"../path-browserify/path-browserify.a545effa.js";import"../screenfull/screenfull.e4fe316c.js";import"../mitt/mitt.fcf4f812.js";import"../qs/qs.3da673cc.js";import"../side-channel/side-channel.3edb57a1.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.4790b089.js";import"../object-inspect/object-inspect.ce046177.js";import"../nprogress/nprogress.47a88857.js";/* empty css                                 */import"../clipboard/clipboard.37ebffe6.js";import"../vue-i18n/vue-i18n.5b025ae2.js";import"../@intlify/@intlify.4679f647.js";import"../xe-utils/xe-utils.088326cd.js";import"../vxe-table/vxe-table.94466d41.js";import"../vite-plugin-mock/vite-plugin-mock.5aa09a6a.js";import"../mockjs/mockjs.7f7b19f3.js";import"../path-to-regexp/path-to-regexp.580946d7.js";V({name:"BoxCard"});const wt=V({name:"TransactionTable"}),xt=Object.assign(wt,{props:{ranks:{type:Array,default(){return[]}}},setup(f){let l=i([]);return N({newList:T(()=>{const r={Completed:"success",Pending:"warning",Cancelled:"danger"};return l.value&&l.value.length>0?l.value=l.value.map(o=>({...o,orderNoStr:o.order_no.substring(0,30),statusStr:r[o.status]})):l.value=[],l.value})}),(r,o)=>{const y=$("el-tag"),u=$("el-table-column"),p=$("el-table");return d(),it(p,{ref:"multipleTable",data:f.ranks,"tooltip-effect":"dark",style:{width:"100%"}},{default:x(()=>[_(u,{label:"\u6392\u540D","max-width":"100",align:"center"},{default:x(s=>[_(y,{type:s.row.statusStr},{default:x(()=>[A(v(s.$index+1),1)]),_:2},1032,["type"])]),_:1}),_(u,{label:"\u540D\u79F0","max-width":"100",align:"center"},{default:x(s=>[A(v(s.row.username),1)]),_:1}),_(u,{prop:"name",label:"\u65F6\u95F4"},{default:x(s=>[A(v(s.row.spendTime),1)]),_:1}),_(u,{prop:"name",label:"\u6B65\u6570"},{default:x(s=>[A(v(s.row.step),1)]),_:1})]),_:1},8,["data"])}}});const Ct={props:{gameArr:{type:Object},gamedata:{type:Object},title:{type:String}},setup(f,{emit:l}){lt(f,"gamedata");const r=N({emptyNum:9});return i(),i(),ut(()=>{const o=new _t.exports.Swappable(document.querySelectorAll(".gameMain"),{draggable:"img",delay:0,mirror:{constrainDimensions:!0}});o.on("drag:start",()=>{}),o.on("swappable:swapped",y=>{}),o.on("drag:stop",y=>{l("shouldMoveCallback")}),o.on("drag:move",()=>{})}),{...ct(r)}}},St={class:"_game"},Tt=["src","showx","showy"],At={key:1};function Bt(f,l,r,o,y,u){return d(),g("div",St,[n("div",{class:"gameMain",style:j({backgroundColor:r.gamedata.style.gameBoxBg})},[(d(!0),g(F,null,I(r.gameArr,(p,s)=>(d(),g("div",{class:E(["y-axis",f.emptyNum===s?"empty":""]),key:p},[(d(!0),g(F,null,I(p,(m,w)=>(d(),g("div",{class:E(["x-axis",m===0?"empty":""]),style:j({backgroundColor:r.gamedata.style.sliderBg,color:r.gamedata.style.sliderColor,fontSize:r.gamedata.style.sliderFontSize}),key:w},[r.gamedata.mode==="img"&&m!=0?(d(),g("img",{key:0,src:r.gamedata.imgs[m-1],alt:"",showx:s,showy:w},null,8,Tt)):m!=0?(d(),g("span",At,v(m),1)):mt("",!0)],6))),128))],2))),128))],4)])}const zt=G(Ct,[["render",Bt],["__scopeId","data-v-d34402cc"]]),$t={name:"Timer",props:{time:{type:Number}},data(){return{timer:"",hour:0,minutes:0,seconds:0}},created(){},methods:{startTimer(){this.seconds+=1,this.seconds>=60&&(this.seconds=0,this.minutes=this.minutes+1),this.minutes>=60&&(this.minutes=0,this.hour=this.hour+1),this.$refs.startTimer.innerHTML=(this.hour<10?"0"+this.hour:this.hour)+":"+(this.minutes<10?"0"+this.minutes:this.minutes)+":"+(this.seconds<10?"0"+this.seconds:this.seconds),this.cr=this.seconds},stop(){clearInterval(this.timer)},start(){clearInterval(this.timer),this.hour=0,this.minutes=0,this.seconds=0,this.timer=setInterval(this.startTimer,1e3)}}},Nt={class:"timer"},qt={ref:"startTimer"};function Rt(f,l,r,o,y,u){return d(),g("div",Nt,[n("div",qt,"00:00:00",512)])}const Mt=G($t,[["render",Rt]]);const Ut={class:"diffec"},Lt={class:"difftodo"},Dt={class:"main"},Pt={class:"todos"},Ft={class:"diffec"},It={class:"tip"},jt={class:"main"},Me={__name:"index",setup(f){const l=ht(),r=bt(),o=kt();dt(o,(t,e)=>{console.log("watch \u5DF2\u89E6\u53D1",t,e),s.value=t.query.randomUrl,U(t.query.randomUrl)});const y=i(),u=i(),p=i(null),s=i(null),m=i(null),w=i(null),b=i(null),C=i(0),k=i(!0);function q(t,e){const a=[];let h=[];const S=t*t+1;for(let z=1;z<S;z++)h.push(e[z-1]),h.length===t&&(a.push(h),h=[]);return a}const R=async()=>{k.value=!0;const{data:t}=await vt();r.push("/puzzle/index?randomUrl="+t.url)},M=async t=>{k.value=!0;const{data:e}=await ft(t);b.value=e,setTimeout(()=>{k.value=!1},1.5*1e3)},H=async t=>{await yt(t),M(s.value)},W=async t=>{k.value=!0;const{data:e}=await O(t,"random");p.value=e.piecces,m.value=e.orders,w.value=q(3,e.orders),setTimeout(()=>{k.value=!1},1.5*1e3)},U=async t=>{k.value=!0;const{data:e}=await O(t,"normal");p.value=e.piecces,m.value=e.orders,w.value=q(3,e.orders),M(t),setTimeout(()=>{k.value=!1},1.5*1e3)};s.value=o.query.randomUrl,console.log(s.value),o.query.randomUrl?U(s.value):R();var Z="http://st.punengshuo.com/images/output1.png",J="http://st.punengshuo.com/images/output2.png",K="http://st.punengshuo.com/images/output3.png",Q="http://st.punengshuo.com/images/output4.png",X="http://st.punengshuo.com/images/output5.png",L="http://st.punengshuo.com/images/output6.png",Y="http://st.punengshuo.com/images/output7.png",tt="http://st.punengshuo.com/images/output8.png",et="http://st.punengshuo.com/images/output8.png";const D=i(!1),P=()=>{c.msg="\u6B27\u8036!\u6211\u8FC7\u5173\u4E86",u.value.stop(),c.showStart=!0},st=()=>{if(!!D.value){C.value=C.value+1;for(var t=document.querySelectorAll("img"),e="",a=0;a<t.length;a++)if(!(t[a].getAttribute("class")&&t[a].getAttribute("class").includes("draggable-mirror"))){if(!(t[a].getAttribute("class")&&t[a].getAttribute("class").includes("draggable--original"))){var h=t[a].getAttribute("src").substring(B(t[a].getAttribute("src"))-5,B(t[a].getAttribute("src"))-4);e=e+","+h}}at(e.substring(1,B(e)))}};function B(t){return t.length}function at(t){const e=rt(3).toString();t===e&&(H({spendTime:u.value.seconds,step:C.value,username:l.name,url:s.value}),setTimeout(()=>{P()},100))}function rt(t){const e=[];let a=[];const h=t*t+1;for(let S=1;S<h;S++)a.push(S),a.length===t&&(e.push(a),a=[]);return e}const c=N({btnName:"\u5F00\u59CB\u6E38\u620F",msg:"",showStart:!0,myrank:T(()=>{const t={1:"danger",2:"warning",3:"success"};return b.value&&b.value.length>0?b.value=b.value.map(e=>({...e,statusStr:t[e.sort]})):b.value=[],b.value}),arrdata:T(()=>w.value),gamedata:{level:3,orders:T(()=>m.value?m.value:[1,2,3,4,5,6,7,8,9]),mode:"img",imgs:T(()=>p.value?p.value:[Z,J,K,Q,X,L,L,Y,tt,et]),style:{sliderBg:"#ffc107",sliderColor:"#000",sliderFontSize:"18px",gameBoxBg:"#fff"},difficulty:4}}),ot=()=>{u.value.start(),D.value=!0,W(s.value),C.value=0,c.msg="",c.showStart=!1},nt=()=>{c.msg="",R()};return(t,e)=>(d(),g("div",null,[n("div",Ut,[n("div",Lt,[n("div",{class:"to",onClick:e[0]||(e[0]=a=>t.changeDiff("add"))},[_(Mt,{ref_key:"headerChild",ref:u},null,512)]),n("div",{class:"to",onClick:e[1]||(e[1]=a=>t.changeDiff("del"))},"\u6B65\u6570\uFF1A"+v(C.value),1)])]),n("div",Dt,[_(zt,{gamedata:c.gamedata,gameArr:c.arrdata,ref_key:"game",ref:y,onEndCallback:P,onShouldMoveCallback:st},null,8,["gamedata","gameArr"])]),n("div",Pt,[n("div",{class:"change",onClick:nt},"\u6362\u56FE"),pt(n("div",{class:"start",onClick:ot},v(c.btnName),513),[[gt,c.showStart]])]),n("div",Ft,[n("h2",null,[n("p",It,v(c.msg),1)])]),n("div",jt,[_(xt,{ranks:c.myrank},null,8,["ranks"])])]))}};export{Me as default};
