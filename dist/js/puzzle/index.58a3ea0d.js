import"../index/index.a9648e0d.js";import"../index/index.a371ab9a.js";import{_ as O,u as it}from"../../assets/index.0c126eda.js";import{F as V,e as i,p as q,m as S,ab as $,o as c,Z as lt,_ as C,a5 as _,a3 as A,a4 as v,q as ut,i as mt,t as ct,c as p,a as n,R as N,ae as F,W as j,V as E,a2 as dt,f as pt}from"../@vue/@vue.2b452c3d.js";import{d as gt}from"../@shopify/@shopify.3d07b6b2.js";import{q as _t,a as I,s as vt,b as ht}from"../game/game.468143b0.js";import{a as ft,u as yt}from"../vue-router/vue-router.dd20951a.js";import"../element-plus/element-plus.caa9b8d8.js";import"../lodash-es/lodash-es.7c973300.js";import"../@vueuse/@vueuse.43da1a8a.js";import"../@amap/@amap.99378080.js";import"../@element-plus/@element-plus.efad60f8.js";import"../@ctrl/@ctrl.e9ed8208.js";import"../dayjs/dayjs.c11b9178.js";import"../async-validator/async-validator.c202887f.js";import"../memoize-one/memoize-one.ee232c16.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.49709035.js";import"../@floating-ui/@floating-ui.f0121856.js";import"../vue/vue.7cf591d0.js";import"../lodash-unified/lodash-unified.848cb84c.js";import"../pinia/pinia.f1018e5b.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.35a30da6.js";import"../geotiff/geotiff.ef2c36fd.js";import"../path-browserify/path-browserify.a545effa.js";import"../screenfull/screenfull.e4fe316c.js";import"../mitt/mitt.fcf4f812.js";import"../qs/qs.3da673cc.js";import"../side-channel/side-channel.3edb57a1.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.4790b089.js";import"../object-inspect/object-inspect.ce046177.js";import"../nprogress/nprogress.47a88857.js";/* empty css                                 */import"../clipboard/clipboard.37ebffe6.js";import"../vue-i18n/vue-i18n.5b025ae2.js";import"../@intlify/@intlify.4679f647.js";import"../xe-utils/xe-utils.088326cd.js";import"../vxe-table/vxe-table.94466d41.js";import"../vite-plugin-mock/vite-plugin-mock.5aa09a6a.js";import"../mockjs/mockjs.7f7b19f3.js";import"../path-to-regexp/path-to-regexp.580946d7.js";V({name:"BoxCard"});const bt=V({name:"TransactionTable"}),kt=Object.assign(bt,{props:{ranks:{type:Array,default(){return[]}}},setup(h){let l=i([]);return q({newList:S(()=>{const r={Completed:"success",Pending:"warning",Cancelled:"danger"};return l.value&&l.value.length>0?l.value=l.value.map(o=>({...o,orderNoStr:o.order_no.substring(0,30),statusStr:r[o.status]})):l.value=[],l.value})}),(r,o)=>{const f=$("el-tag"),u=$("el-table-column"),d=$("el-table");return c(),lt(d,{ref:"multipleTable",data:h.ranks,"tooltip-effect":"dark",style:{width:"100%"}},{default:C(()=>[_(u,{label:"\u6392\u540D","max-width":"100",align:"center"},{default:C(s=>[_(f,{type:s.row.statusStr},{default:C(()=>[A(v(s.$index+1),1)]),_:2},1032,["type"])]),_:1}),_(u,{label:"\u540D\u79F0","max-width":"100",align:"center"},{default:C(s=>[A(v(s.row.username),1)]),_:1}),_(u,{prop:"name",label:"\u65F6\u95F4"},{default:C(s=>[A(v(s.row.spendTime),1)]),_:1}),_(u,{prop:"name",label:"\u6B65\u6570"},{default:C(s=>[A(v(s.row.step),1)]),_:1})]),_:1},8,["data"])}}});const wt={props:{gameArr:{type:Object},gamedata:{type:Object},title:{type:String}},setup(h,{emit:l}){ut(h,"gamedata");const r=q({emptyNum:9});return i(),i(),mt(()=>{const o=new gt.exports.Swappable(document.querySelectorAll(".gameMain"),{draggable:"img",delay:0,mirror:{constrainDimensions:!0}});o.on("drag:start",()=>{}),o.on("swappable:swapped",f=>{}),o.on("drag:stop",f=>{l("shouldMoveCallback")}),o.on("drag:move",()=>{})}),{...ct(r)}}},Ct={class:"_game"},xt=["src","showx","showy"],St={key:1};function Tt(h,l,r,o,f,u){return c(),p("div",Ct,[n("div",{class:"gameMain",style:j({backgroundColor:r.gamedata.style.gameBoxBg})},[(c(!0),p(N,null,F(r.gameArr,(d,s)=>(c(),p("div",{class:E(["y-axis",h.emptyNum===s?"empty":""]),key:d},[(c(!0),p(N,null,F(d,(m,k)=>(c(),p("div",{class:E(["x-axis",m===0?"empty":""]),style:j({backgroundColor:r.gamedata.style.sliderBg,color:r.gamedata.style.sliderColor,fontSize:r.gamedata.style.sliderFontSize}),key:k},[r.gamedata.mode==="img"&&m!=0?(c(),p("img",{key:0,src:r.gamedata.imgs[m-1],alt:"",showx:s,showy:k},null,8,xt)):m!=0?(c(),p("span",St,v(m),1)):dt("",!0)],6))),128))],2))),128))],4)])}const At=O(wt,[["render",Tt],["__scopeId","data-v-d34402cc"]]),Bt={name:"Timer",props:{time:{type:Number}},data(){return{timer:"",hour:0,minutes:0,seconds:0,cr:""}},created(){},methods:{startTimer(){this.seconds+=1,this.seconds>=60&&(this.seconds=0,this.minutes=this.minutes+1),this.minutes>=60&&(this.minutes=0,this.hour=this.hour+1),this.$refs.startTimer.innerHTML=(this.hour<10?"0"+this.hour:this.hour)+":"+(this.minutes<10?"0"+this.minutes:this.minutes)+":"+(this.seconds<10?"0"+this.seconds:this.seconds),this.cr=this.seconds},stop(){clearInterval(this.timer)},start(){this.timer=setInterval(this.startTimer,1e3)}}},zt={class:"timer"},$t={ref:"startTimer"};function Nt(h,l,r,o,f,u){return c(),p("div",zt,[n("div",$t,"00:00:00",512)])}const qt=O(Bt,[["render",Nt]]);const Rt={class:"diffec"},Mt={class:"difftodo"},Ut={class:"main"},Lt={class:"todos"},Pt={class:"diffec"},Dt={class:"tip"},Ft={class:"main"},qe={__name:"index",setup(h){const l=it(),r=ft(),o=yt();pt(o,(t,e)=>{console.log("watch \u5DF2\u89E6\u53D1",t,e),s.value=t.query.randomUrl,U(t.query.randomUrl)});const f=i(),u=i(),d=i(null),s=i(null),m=i(null),k=i(null),y=i(null),T=i(0),b=i(!0);function R(t,e){const a=[];let g=[];const x=t*t+1;for(let z=1;z<x;z++)g.push(e[z-1]),g.length===t&&(a.push(g),g=[]);return a}const M=async()=>{b.value=!0;const{data:t}=await _t();r.push("/puzzle/index?randomUrl="+t.url)},G=async t=>{b.value=!0;const{data:e}=await ht(t);y.value=e,setTimeout(()=>{b.value=!1},1.5*1e3)},H=async t=>{await vt(t),G(s.value)},W=async t=>{b.value=!0;const{data:e}=await I(t,"random");d.value=e.piecces,m.value=e.orders,k.value=R(3,e.orders),setTimeout(()=>{b.value=!1},1.5*1e3)},U=async t=>{b.value=!0;const{data:e}=await I(t,"normal");d.value=e.piecces,m.value=e.orders,k.value=R(3,e.orders),setTimeout(()=>{b.value=!1},1.5*1e3)};s.value=o.query.randomUrl,console.log(s.value),o.query.randomUrl?U(s.value):M();var Z="http://st.punengshuo.com/images/output1.png",J="http://st.punengshuo.com/images/output2.png",K="http://st.punengshuo.com/images/output3.png",Q="http://st.punengshuo.com/images/output4.png",X="http://st.punengshuo.com/images/output5.png",L="http://st.punengshuo.com/images/output6.png",Y="http://st.punengshuo.com/images/output7.png",tt="http://st.punengshuo.com/images/output8.png",et="http://st.punengshuo.com/images/output8.png";const P=i(!1),D=()=>{w.msg="\u6B27\u8036!\u6211\u8FC7\u5173\u4E86",u.value.stop()},st=()=>{if(!!P.value){T.value=T.value+1;for(var t=document.querySelectorAll("img"),e="",a=0;a<t.length;a++)if(!(t[a].getAttribute("class")&&t[a].getAttribute("class").includes("draggable-mirror"))){if(!(t[a].getAttribute("class")&&t[a].getAttribute("class").includes("draggable--original"))){var g=t[a].getAttribute("src").substring(B(t[a].getAttribute("src"))-5,B(t[a].getAttribute("src"))-4);e=e+","+g}}at(e.substring(1,B(e)))}};function B(t){return t.length}function at(t){const e=rt(3).toString();t===e&&(H({spendTime:u.value.seconds,step:T.value,username:l.name,url:s.value}),setTimeout(()=>{D()},100))}function rt(t){const e=[];let a=[];const g=t*t+1;for(let x=1;x<g;x++)a.push(x),a.length===t&&(e.push(a),a=[]);return e}const w=q({btnName:"\u5F00\u59CB\u6E38\u620F",msg:"",myrank:S(()=>{const t={1:"danger",2:"warning",3:"success"};return y.value&&y.value.length>0?y.value=y.value.map(e=>({...e,statusStr:t[e.sort]})):y.value=[],y.value}),arrdata:S(()=>k.value),gamedata:{level:3,orders:S(()=>m.value?m.value:[1,2,3,4,5,6,7,8,9]),mode:"img",imgs:S(()=>d.value?d.value:[Z,J,K,Q,X,L,L,Y,tt,et]),style:{sliderBg:"#ffc107",sliderColor:"#000",sliderFontSize:"18px",gameBoxBg:"#fff"},difficulty:4}}),ot=()=>{P.value=!0,W(s.value),u.value.start()},nt=()=>{M()};return(t,e)=>(c(),p(N,null,[n("div",Rt,[n("div",Mt,[n("div",{class:"to",onClick:e[0]||(e[0]=a=>t.changeDiff("add"))},[_(qt,{time:t.time,ref_key:"headerChild",ref:u},null,8,["time"])]),n("div",{class:"to",onClick:e[1]||(e[1]=a=>t.changeDiff("del"))},"\u6B65\u6570\uFF1A"+v(T.value),1)])]),n("div",Ut,[_(At,{gamedata:w.gamedata,gameArr:w.arrdata,ref_key:"game",ref:f,onEndCallback:D,onShouldMoveCallback:st},null,8,["gamedata","gameArr"])]),n("div",Lt,[n("div",{class:"change",onClick:nt},"\u5237\u65B0"),n("div",{class:"start",onClick:ot},v(w.btnName),1)]),n("div",Pt,[n("h2",null,[n("p",Dt,v(w.msg),1)])]),n("div",Ft,[_(kt,{ranks:w.myrank},null,8,["ranks"])])],64))}};export{qe as default};
