import{d as U}from"../@shopify/@shopify.3d07b6b2.js";import{_ as I}from"../../assets/index.ab6c54a2.js";import{q as W,p as q,e as s,i as $,t as H,o as i,c as m,a as p,R as C,ae as S,W as N,V as z,a4 as b,a2 as J,m as A,a3 as K,a5 as Q}from"../@vue/@vue.2b452c3d.js";import{q as X,a as Y}from"../game/game.6931384d.js";import"../element-plus/element-plus.caa9b8d8.js";import"../lodash-es/lodash-es.7c973300.js";import"../@vueuse/@vueuse.43da1a8a.js";import"../@amap/@amap.99378080.js";import"../@element-plus/@element-plus.efad60f8.js";import"../@ctrl/@ctrl.e9ed8208.js";import"../dayjs/dayjs.c11b9178.js";import"../async-validator/async-validator.c202887f.js";import"../memoize-one/memoize-one.ee232c16.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.49709035.js";import"../@floating-ui/@floating-ui.f0121856.js";import"../vue/vue.7cf591d0.js";import"../lodash-unified/lodash-unified.848cb84c.js";import"../pinia/pinia.f1018e5b.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.35a30da6.js";import"../geotiff/geotiff.ef2c36fd.js";import"../vue-router/vue-router.dd20951a.js";import"../path-to-regexp/path-to-regexp.ecb763cd.js";import"../fuse.js/fuse.js.8cd4e865.js";import"../path-browserify/path-browserify.3d3258d8.js";import"../screenfull/screenfull.55a5d770.js";import"../vue-i18n/vue-i18n.6aec34d1.js";import"../@intlify/@intlify.4679f647.js";import"../mitt/mitt.fcf4f812.js";import"../qs/qs.3da673cc.js";import"../side-channel/side-channel.3edb57a1.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.4790b089.js";import"../object-inspect/object-inspect.ce046177.js";import"../nprogress/nprogress.47a88857.js";/* empty css                                 */import"../clipboard/clipboard.37ebffe6.js";import"../xe-utils/xe-utils.088326cd.js";import"../vxe-table/vxe-table.94466d41.js";import"../vite-plugin-mock/vite-plugin-mock.ee99d99a.js";import"../mockjs/mockjs.7f7b19f3.js";const Z={props:{gameArr:{type:Object},gamedata:{type:Object},title:{type:String}},setup(v,{emit:f}){W(v,"gamedata");const r=q({emptyNum:9});return s(),s(),$(()=>{const o=new U.exports.Swappable(document.querySelectorAll(".gameMain"),{draggable:"img",delay:0,mirror:{constrainDimensions:!0}});o.on("drag:start",()=>{}),o.on("swappable:swapped",l=>{}),o.on("drag:stop",l=>{f("shouldMoveCallback")}),o.on("drag:move",()=>{})}),{...H(r)}}},tt={class:"_game"},et=["src","showx","showy"],at={key:1};function rt(v,f,r,o,l,h){return i(),m("div",tt,[p("div",{class:"gameMain",style:N({backgroundColor:r.gamedata.style.gameBoxBg})},[(i(!0),m(C,null,S(r.gameArr,(u,d)=>(i(),m("div",{class:z(["y-axis",v.emptyNum===d?"empty":""]),key:u},[(i(!0),m(C,null,S(u,(c,y)=>(i(),m("div",{class:z(["x-axis",c===0?"empty":""]),style:N({backgroundColor:r.gamedata.style.sliderBg,color:r.gamedata.style.sliderColor,fontSize:r.gamedata.style.sliderFontSize}),key:y},[r.gamedata.mode==="img"&&c!=0?(i(),m("img",{key:0,src:r.gamedata.imgs[c-1],alt:"",showx:d,showy:y},null,8,et)):c!=0?(i(),m("span",at,b(c),1)):J("",!0)],6))),128))],2))),128))],4)])}const st=I(Z,[["render",rt],["__scopeId","data-v-d34402cc"]]);const ot={class:"diffec"},nt={class:"tip"},it={class:"main"},mt={class:"todos"},te={__name:"index",setup(v){const f=s(),r=s(null),o=s(null),l=s(null),h=s(null),u=s(!0);function d(t,a){const e=[];let n=[];const _=t*t+1;for(let x=1;x<_;x++)n.push(a[x-1]),n.length===t&&(e.push(n),n=[]);return e}const c=async()=>{u.value=!0;const{data:t}=await X();r.value=t.piecces,o.value=t.url,l.value=t.orders,h.value=d(3,t.orders),setTimeout(()=>{u.value=!1},1.5*1e3)},y=async t=>{u.value=!0;const{data:a}=await Y(t);r.value=a.piecces,l.value=a.orders,h.value=d(3,a.orders),setTimeout(()=>{u.value=!1},1.5*1e3)};c();var M="http://st.punengshuo.com/images/output1.png",V="http://st.punengshuo.com/images/output2.png",L="http://st.punengshuo.com/images/output3.png",T="http://st.punengshuo.com/images/output4.png",E="http://st.punengshuo.com/images/output5.png",w="http://st.punengshuo.com/images/output6.png",F="http://st.punengshuo.com/images/output7.png",R="http://st.punengshuo.com/images/output8.png",j="http://st.punengshuo.com/images/output8.png";s(!1);const B=()=>{g.msg="\u6B27\u8036!\u6211\u901A\u5173\u4E86"},D=()=>{for(var t=document.querySelectorAll("img"),a="",e=0;e<t.length;e++)if(!(t[e].getAttribute("class")&&t[e].getAttribute("class").includes("draggable-mirror"))){if(!(t[e].getAttribute("class")&&t[e].getAttribute("class").includes("draggable--original"))){var n=t[e].getAttribute("src").substring(k(t[e].getAttribute("src"))-5,k(t[e].getAttribute("src"))-4);a=a+","+n}}G(a.substring(1,k(a)))};function k(t){return t.length}function G(t){const a=O(3).toString();t===a&&setTimeout(()=>{B()},100)}function O(t){const a=[];let e=[];const n=t*t+1;for(let _=1;_<n;_++)e.push(_),e.length===t&&(a.push(e),e=[]);return a}const g=q({btnName:"\u5F00\u59CB\u6E38\u620F",msg:"",arrdata:A(()=>h.value),gamedata:{level:3,orders:A(()=>l.value?l.value:[1,2,3,4,5,6,7,8,9]),mode:"img",imgs:A(()=>r.value?r.value:[M,V,L,T,E,w,w,F,R,j]),style:{sliderBg:"#ffc107",sliderColor:"#000",sliderFontSize:"18px",gameBoxBg:"#fff"},difficulty:4}}),P=()=>{y(o.value)};return(t,a)=>(i(),m(C,null,[p("div",ot,[p("h2",null,[K(b(g.gamedata.difficulty)+" ",1),p("p",nt,b(g.msg),1)])]),p("div",it,[Q(st,{gamedata:g.gamedata,gameArr:g.arrdata,ref_key:"game",ref:f,onEndCallback:B,onShouldMoveCallback:D},null,8,["gamedata","gameArr"])]),p("div",mt,[p("div",{class:"start",onClick:P},b(g.btnName),1)])],64))}};export{te as default};
