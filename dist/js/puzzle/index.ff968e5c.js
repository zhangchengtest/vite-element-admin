import"../index/index.962edd9e.js";import"../index/index.a371ab9a.js";import{_ as F,u as at}from"../../assets/index.ace6d555.js";import{F as j,e as l,p as z,m as x,ab as B,o as d,Z as rt,_ as C,a5 as v,a3 as S,a4 as h,q as ot,i as nt,t as it,c as g,a as n,R as $,ae as P,W as V,V as D,a2 as lt}from"../@vue/@vue.2b452c3d.js";import{d as ut}from"../@shopify/@shopify.3d07b6b2.js";import{q as mt,a as ct,s as dt,b as pt}from"../game/game.7feea5c3.js";import"../element-plus/element-plus.caa9b8d8.js";import"../lodash-es/lodash-es.7c973300.js";import"../@vueuse/@vueuse.43da1a8a.js";import"../@amap/@amap.99378080.js";import"../@element-plus/@element-plus.efad60f8.js";import"../@ctrl/@ctrl.e9ed8208.js";import"../dayjs/dayjs.c11b9178.js";import"../async-validator/async-validator.c202887f.js";import"../memoize-one/memoize-one.ee232c16.js";import"../escape-html/escape-html.d572c0fd.js";import"../normalize-wheel-es/normalize-wheel-es.49709035.js";import"../@floating-ui/@floating-ui.f0121856.js";import"../vue/vue.7cf591d0.js";import"../lodash-unified/lodash-unified.848cb84c.js";import"../pinia/pinia.f1018e5b.js";import"../js-cookie/js-cookie.431252a9.js";import"../axios/axios.35a30da6.js";import"../geotiff/geotiff.ef2c36fd.js";import"../vue-router/vue-router.dd20951a.js";import"../path-browserify/path-browserify.a545effa.js";import"../screenfull/screenfull.e4fe316c.js";import"../mitt/mitt.fcf4f812.js";import"../qs/qs.3da673cc.js";import"../side-channel/side-channel.3edb57a1.js";import"../get-intrinsic/get-intrinsic.5afea291.js";import"../has-symbols/has-symbols.37c383d9.js";import"../function-bind/function-bind.20151ab8.js";import"../has/has.21528ef4.js";import"../call-bind/call-bind.4790b089.js";import"../object-inspect/object-inspect.ce046177.js";import"../nprogress/nprogress.47a88857.js";/* empty css                                 */import"../clipboard/clipboard.37ebffe6.js";import"../vue-i18n/vue-i18n.5b025ae2.js";import"../@intlify/@intlify.4679f647.js";import"../xe-utils/xe-utils.088326cd.js";import"../vxe-table/vxe-table.94466d41.js";import"../vite-plugin-mock/vite-plugin-mock.5aa09a6a.js";import"../mockjs/mockjs.7f7b19f3.js";import"../path-to-regexp/path-to-regexp.580946d7.js";j({name:"BoxCard"});const gt=j({name:"TransactionTable"}),_t=Object.assign(gt,{props:{ranks:{type:Array,default(){return[]}}},setup(f){let u=l([]);return z({newList:x(()=>{const r={Completed:"success",Pending:"warning",Cancelled:"danger"};return u.value&&u.value.length>0?u.value=u.value.map(a=>({...a,orderNoStr:a.order_no.substring(0,30),statusStr:r[a.status]})):u.value=[],u.value})}),(r,a)=>{const c=B("el-tag"),m=B("el-table-column"),p=B("el-table");return d(),rt(p,{ref:"multipleTable",data:f.ranks,"tooltip-effect":"dark",style:{width:"100%"}},{default:C(()=>[v(m,{label:"\u6392\u540D","max-width":"100",align:"center"},{default:C(o=>[v(c,{type:o.row.statusStr},{default:C(()=>[S(h(o.$index+1),1)]),_:2},1032,["type"])]),_:1}),v(m,{label:"\u540D\u79F0","max-width":"100",align:"center"},{default:C(o=>[S(h(o.row.username),1)]),_:1}),v(m,{prop:"name",label:"\u65F6\u95F4"},{default:C(o=>[S(h(o.row.spendTime),1)]),_:1}),v(m,{prop:"name",label:"\u6B65\u6570"},{default:C(o=>[S(h(o.row.step),1)]),_:1})]),_:1},8,["data"])}}});const vt={props:{gameArr:{type:Object},gamedata:{type:Object},title:{type:String}},setup(f,{emit:u}){ot(f,"gamedata");const r=z({emptyNum:9});return l(),l(),nt(()=>{const a=new ut.exports.Swappable(document.querySelectorAll(".gameMain"),{draggable:"img",delay:0,mirror:{constrainDimensions:!0}});a.on("drag:start",()=>{}),a.on("swappable:swapped",c=>{}),a.on("drag:stop",c=>{u("shouldMoveCallback")}),a.on("drag:move",()=>{})}),{...it(r)}}},ht={class:"_game"},ft=["src","showx","showy"],yt={key:1};function bt(f,u,r,a,c,m){return d(),g("div",ht,[n("div",{class:"gameMain",style:V({backgroundColor:r.gamedata.style.gameBoxBg})},[(d(!0),g($,null,P(r.gameArr,(p,o)=>(d(),g("div",{class:D(["y-axis",f.emptyNum===o?"empty":""]),key:p},[(d(!0),g($,null,P(p,(i,y)=>(d(),g("div",{class:D(["x-axis",i===0?"empty":""]),style:V({backgroundColor:r.gamedata.style.sliderBg,color:r.gamedata.style.sliderColor,fontSize:r.gamedata.style.sliderFontSize}),key:y},[r.gamedata.mode==="img"&&i!=0?(d(),g("img",{key:0,src:r.gamedata.imgs[i-1],alt:"",showx:o,showy:y},null,8,ft)):i!=0?(d(),g("span",yt,h(i),1)):lt("",!0)],6))),128))],2))),128))],4)])}const kt=F(vt,[["render",bt],["__scopeId","data-v-d34402cc"]]),Ct={name:"Timer",props:{time:{type:Number}},data(){return{timer:"",hour:0,minutes:0,seconds:0,cr:""}},created(){},methods:{startTimer(){this.seconds+=1,this.seconds>=60&&(this.seconds=0,this.minutes=this.minutes+1),this.minutes>=60&&(this.minutes=0,this.hour=this.hour+1),this.$refs.startTimer.innerHTML=(this.hour<10?"0"+this.hour:this.hour)+":"+(this.minutes<10?"0"+this.minutes:this.minutes)+":"+(this.seconds<10?"0"+this.seconds:this.seconds),this.cr=this.seconds},stop(){clearInterval(this.timer)},start(){this.timer=setInterval(this.startTimer,1e3)}}},wt={class:"timer"},xt={ref:"startTimer"};function St(f,u,r,a,c,m){return d(),g("div",wt,[n("div",xt,"00:00:00",512)])}const Tt=F(Ct,[["render",St]]);const At={class:"diffec"},Bt={class:"difftodo"},$t={class:"main"},zt={class:"todos"},Nt={class:"diffec"},Mt={class:"tip"},qt={class:"main"},Te={__name:"index",setup(f){const u=at(),r=l(),a=l(),c=l(null),m=l(null),p=l(null),o=l(null),i=l(null),y=l(0),b=l(!0);function N(t,e){const s=[];let _=[];const w=t*t+1;for(let A=1;A<w;A++)_.push(e[A-1]),_.length===t&&(s.push(_),_=[]);return s}const E=async()=>{b.value=!0;const{data:t}=await mt();c.value=t.piecces,m.value=t.url,p.value=t.orders,o.value=N(3,t.orders),M(t.url),setTimeout(()=>{b.value=!1},1.5*1e3)},M=async t=>{b.value=!0;const{data:e}=await ct(t);i.value=e,setTimeout(()=>{b.value=!1},1.5*1e3)},I=async t=>{await dt(t),M(m.value)},O=async t=>{b.value=!0;const{data:e}=await pt(t);c.value=e.piecces,p.value=e.orders,o.value=N(3,e.orders),setTimeout(()=>{b.value=!1},1.5*1e3)};E();var U="http://st.punengshuo.com/images/output1.png",G="http://st.punengshuo.com/images/output2.png",H="http://st.punengshuo.com/images/output3.png",W="http://st.punengshuo.com/images/output4.png",Z="http://st.punengshuo.com/images/output5.png",q="http://st.punengshuo.com/images/output6.png",J="http://st.punengshuo.com/images/output7.png",K="http://st.punengshuo.com/images/output8.png",Q="http://st.punengshuo.com/images/output8.png";const R=l(!1),L=()=>{k.msg="\u6B27\u8036!\u6211\u8FC7\u5173\u4E86",a.value.stop()},X=()=>{if(!!R.value){y.value=y.value+1;for(var t=document.querySelectorAll("img"),e="",s=0;s<t.length;s++)if(!(t[s].getAttribute("class")&&t[s].getAttribute("class").includes("draggable-mirror"))){if(!(t[s].getAttribute("class")&&t[s].getAttribute("class").includes("draggable--original"))){var _=t[s].getAttribute("src").substring(T(t[s].getAttribute("src"))-5,T(t[s].getAttribute("src"))-4);e=e+","+_}}Y(e.substring(1,T(e)))}};function T(t){return t.length}function Y(t){const e=tt(3).toString();t===e&&(I({spendTime:a.value.seconds,step:y.value,username:u.name,url:m.value}),setTimeout(()=>{L()},100))}function tt(t){const e=[];let s=[];const _=t*t+1;for(let w=1;w<_;w++)s.push(w),s.length===t&&(e.push(s),s=[]);return e}const k=z({btnName:"\u5F00\u59CB\u6E38\u620F",msg:"",myrank:x(()=>{const t={1:"danger",2:"warning",3:"success"};return i.value&&i.value.length>0?i.value=i.value.map(e=>({...e,statusStr:t[e.sort]})):i.value=[],i.value}),arrdata:x(()=>o.value),gamedata:{level:3,orders:x(()=>p.value?p.value:[1,2,3,4,5,6,7,8,9]),mode:"img",imgs:x(()=>c.value?c.value:[U,G,H,W,Z,q,q,J,K,Q]),style:{sliderBg:"#ffc107",sliderColor:"#000",sliderFontSize:"18px",gameBoxBg:"#fff"},difficulty:4}}),et=()=>{R.value=!0,O(m.value),a.value.start()},st=()=>{location.reload()};return(t,e)=>(d(),g($,null,[n("div",At,[n("div",Bt,[n("div",{class:"to",onClick:e[0]||(e[0]=s=>t.changeDiff("add"))},[v(Tt,{time:t.time,ref_key:"headerChild",ref:a},null,8,["time"])]),n("div",{class:"to",onClick:e[1]||(e[1]=s=>t.changeDiff("del"))},"\u6B65\u6570\uFF1A"+h(y.value),1)])]),n("div",$t,[v(kt,{gamedata:k.gamedata,gameArr:k.arrdata,ref_key:"game",ref:r,onEndCallback:L,onShouldMoveCallback:X},null,8,["gamedata","gameArr"])]),n("div",zt,[n("div",{class:"change",onClick:st},"\u5237\u65B0"),n("div",{class:"start",onClick:et},h(k.btnName),1)]),n("div",Nt,[n("h2",null,[n("p",Mt,h(k.msg),1)])]),n("div",qt,[v(_t,{ranks:k.myrank},null,8,["ranks"])])],64))}};export{Te as default};
